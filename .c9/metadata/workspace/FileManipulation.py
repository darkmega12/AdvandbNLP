{"filter":false,"title":"FileManipulation.py","tooltip":"/FileManipulation.py","undoManager":{"mark":76,"position":76,"stack":[[{"group":"doc","deltas":[{"start":{"row":0,"column":0},"end":{"row":112,"column":9},"action":"insert","lines":["import csv","","","keyWords = [\"Vote\", \"VOTE\", \"vote\", \"boto\", \"iboto\", \"bumoto\", ","\t\t\t\"Halalan\", \"halalan\", \"senator\", \"Senator\", \"elect\", ","\t\t\t\"Mayor\", \"mayor\", \"Eleksyon\", \"eleksyon\"]","","","","filename = 'C:\\\\Users\\\\Kiel\\\\Dropbox\\\\3RD YEAR\\\\2ND TERM\\\\ADVANDB\\\\filtered-may1-onwards.csv'","","def getDataFromCSV(filename):","\tCSVfile = open(filename, 'rt', encoding = 'utf8')   #opens the csv file and encodes to utf8","\treader = csv.reader(CSVfile, dialect = 'excel', delimiter = ',') #reads the file","\tfilteredData = []","\ttempData = []","\tfirst = True","\tday = 1 #used in finding the date of tweet; for getting the first index in the csv file per day","\tfor row in reader:","\t\tif first == True: #is done so that first row, which is the headers, is not added to tempData","\t\t\tfirst = False","\t\t\tcontinue","\t\t#following code gets the first index of the dates and adds each consecutively in startDates","\t\tif day < 10:","\t\t\tif row[3].find('May 0' + str(day)) == -1:","\t\t\t\tday += 1","\t\t\t\tfilteredData.append(tempData)","\t\t\t\ttempData = []","\t\telse:","\t\t\tif row[3].find('May ' + str(day)) == -1:","\t\t\t\tday += 1","\t\t\t\tfilteredData.append(tempData)","\t\t\t\ttempData = []","\t\t#looks for all keywords in the tweet. Adds the tweet if it has done so","\t\tfor word in keyWords:","\t\t\tif row[2].find(word) != -1:","\t\t\t\ttempData.append(row)","\t\t\t\tbreak","","\treturn filteredData","\t","    ","#returns the initial names of the people","def getInitialNames(dataList):","\tnames = []","\trule = ['vote', 'iboto']","\ttempName = \"\"","\tfor tweet in dataList:\t#iterates through all tweets","\t\ttempName = finderAlgo(rule[0], tweet[2])","\t\tif (tempName != \"\"):","\t\t\tnames.append(tempName)","\treturn names","","#algorithm for finding the names","def finderAlgo(toFind, message):","\tname= \"\"","\tif message.find(toFind) != -1:  #looks ","\t\ttokenized = message.split(' ')","\t\tfor token in tokenized:","\t\t\tif token.find(toFind) != -1 and tokenized.index(token) < len(tokenized):","\t\t\t\tindex = tokenized.index(token)","\t\t\t\tname = searchNearProper(index, tokenized, 4, 'r')","\t\t\t\tif name == \"\":","\t\t\t\t\tname = searchNearProper(index, tokenized, 4, 'l')","\treturn name","","# index refers to index in list of tokens","# tokenList referst to the tweet split by spaces","# movement refers to the range in which the definition will check the tokenList","#direction determines where the index would iterate to","def searchNearProper(index, tokenList, movement, direction):  #adds gets words that starts in capital letter from the number of moves and direction from the index","\tname = \"\"","\tmover = index","\tmoves = movement","\tnumNames = 2","\tfound = 0 #used to count how many words are found with proper noun","\tif direction == 'r':","\t\tmover += 1","\t\twhile mover < len(tokenList) and found < numNames and moves > 0:","\t\t\tif len(tokenList[mover]) > 0: #gets first letter and checks if it is capital","\t\t\t\tfirstLetter = \"\" + tokenList[mover][0] ","\t\t\t\tif firstLetter.isupper() == True:","\t\t\t\t\tif found > 0:","\t\t\t\t\t\tname += \" \"","\t\t\t\t\tname += tokenList[mover] ","\t\t\t\t\tfound += 1","\t\t\tmoves -= 1","\t\t\tmover += 1","\telif direction == 'l':","\t\tindex -= 1","\t\twhile mover >= 0 and found > numNames and moves > 0:","\t\t\tif len(tokenList[mover]) > 0: #gets first letter and checks if it is capital","\t\t\t\tfirstLetter = \"\" + tokenList[mover][0]","\t\t\t\tif firstLetter.isupper() == True:","\t\t\t\t\tif found > 0:","\t\t\t\t\t\tname = \" \" + name","\t\t\t\t\tname = tokenList[mover] + name","\t\t\t\t\tfound += 1","\t\t\tmoves -= 1","\t\t\tmover -= 1","\treturn name","","tweetData = []","tweetData = getDataFromCSV(filename)","#nameList = getInitialNames(tweetData[0])","#print(nameList)","","day = 1","for chunk in tweetData:","\tprint(\"\\n\\n----------- May \" + str(day) + \" ----------\\n\")","\tfor row in chunk:","\t\tprint(row[2])","\tday += 1"]}]}],[{"group":"doc","deltas":[{"start":{"row":7,"column":0},"end":{"row":8,"column":0},"action":"remove","lines":["",""]}]}],[{"group":"doc","deltas":[{"start":{"row":6,"column":0},"end":{"row":7,"column":0},"action":"remove","lines":["",""]}]}],[{"group":"doc","deltas":[{"start":{"row":104,"column":0},"end":{"row":110,"column":9},"action":"remove","lines":["","day = 1","for chunk in tweetData:","\tprint(\"\\n\\n----------- May \" + str(day) + \" ----------\\n\")","\tfor row in chunk:","\t\tprint(row[2])","\tday += 1"]}]}],[{"group":"doc","deltas":[{"start":{"row":104,"column":0},"end":{"row":104,"column":4},"action":"insert","lines":["init"]},{"start":{"row":104,"column":4},"end":{"row":104,"column":7},"action":"insert","lines":["ial"]}]}],[{"group":"doc","deltas":[{"start":{"row":104,"column":7},"end":{"row":104,"column":13},"action":"insert","lines":["List ="]},{"start":{"row":104,"column":13},"end":{"row":104,"column":14},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":104,"column":14},"end":{"row":104,"column":17},"action":"insert","lines":["get"]}]}],[{"group":"doc","deltas":[{"start":{"row":104,"column":14},"end":{"row":104,"column":17},"action":"remove","lines":["get"]},{"start":{"row":104,"column":14},"end":{"row":104,"column":31},"action":"insert","lines":["getInitialNames()"]}]}],[{"group":"doc","deltas":[{"start":{"row":103,"column":16},"end":{"row":104,"column":0},"action":"insert","lines":["",""]}]}],[{"group":"doc","deltas":[{"start":{"row":103,"column":16},"end":{"row":104,"column":0},"action":"remove","lines":["",""]}]}],[{"group":"doc","deltas":[{"start":{"row":104,"column":30},"end":{"row":104,"column":33},"action":"insert","lines":["twe"]},{"start":{"row":104,"column":33},"end":{"row":104,"column":37},"action":"insert","lines":["etDa"]}]}],[{"group":"doc","deltas":[{"start":{"row":104,"column":37},"end":{"row":104,"column":39},"action":"insert","lines":["ta"]}]}],[{"group":"doc","deltas":[{"start":{"row":104,"column":39},"end":{"row":104,"column":40},"action":"insert","lines":["["]},{"start":{"row":104,"column":40},"end":{"row":104,"column":41},"action":"insert","lines":["]"]}]}],[{"group":"doc","deltas":[{"start":{"row":104,"column":39},"end":{"row":104,"column":41},"action":"remove","lines":["[]"]},{"start":{"row":103,"column":16},"end":{"row":104,"column":0},"action":"insert","lines":["",""]}]}],[{"group":"doc","deltas":[{"start":{"row":104,"column":0},"end":{"row":104,"column":4},"action":"insert","lines":["for "]}]}],[{"group":"doc","deltas":[{"start":{"row":104,"column":4},"end":{"row":104,"column":5},"action":"insert","lines":["t"]}]}],[{"group":"doc","deltas":[{"start":{"row":104,"column":4},"end":{"row":104,"column":5},"action":"remove","lines":["t"]}]}],[{"group":"doc","deltas":[{"start":{"row":104,"column":4},"end":{"row":104,"column":8},"action":"insert","lines":["chuc"]},{"start":{"row":104,"column":8},"end":{"row":104,"column":9},"action":"insert","lines":["k"]}]}],[{"group":"doc","deltas":[{"start":{"row":104,"column":7},"end":{"row":104,"column":9},"action":"remove","lines":["ck"]}]}],[{"group":"doc","deltas":[{"start":{"row":104,"column":7},"end":{"row":104,"column":11},"action":"insert","lines":["nk i"]},{"start":{"row":104,"column":11},"end":{"row":104,"column":13},"action":"insert","lines":["n "]}]}],[{"group":"doc","deltas":[{"start":{"row":104,"column":13},"end":{"row":104,"column":16},"action":"insert","lines":["twe"]}]}],[{"group":"doc","deltas":[{"start":{"row":104,"column":16},"end":{"row":104,"column":18},"action":"insert","lines":["et"]}]}],[{"group":"doc","deltas":[{"start":{"row":104,"column":18},"end":{"row":104,"column":19},"action":"insert","lines":["D"]}]}],[{"group":"doc","deltas":[{"start":{"row":104,"column":13},"end":{"row":104,"column":19},"action":"remove","lines":["tweetD"]},{"start":{"row":104,"column":13},"end":{"row":104,"column":22},"action":"insert","lines":["tweetData"]}]}],[{"group":"doc","deltas":[{"start":{"row":104,"column":22},"end":{"row":104,"column":23},"action":"insert","lines":[":"]}]}],[{"group":"doc","deltas":[{"start":{"row":105,"column":0},"end":{"row":105,"column":1},"action":"insert","lines":["\t"]}]}],[{"group":"doc","deltas":[{"start":{"row":48,"column":25},"end":{"row":49,"column":3},"action":"insert","lines":["","\t\t\t"]}]}],[{"group":"doc","deltas":[{"start":{"row":49,"column":2},"end":{"row":49,"column":3},"action":"remove","lines":["\t"]}]}],[{"group":"doc","deltas":[{"start":{"row":49,"column":2},"end":{"row":49,"column":4},"action":"insert","lines":["el"]}]}],[{"group":"doc","deltas":[{"start":{"row":49,"column":4},"end":{"row":49,"column":7},"action":"insert","lines":["if:"]}]}],[{"group":"doc","deltas":[{"start":{"row":49,"column":4},"end":{"row":49,"column":6},"action":"remove","lines":["if"]},{"start":{"row":49,"column":5},"end":{"row":49,"column":6},"action":"insert","lines":["s"]}]}],[{"group":"doc","deltas":[{"start":{"row":49,"column":5},"end":{"row":49,"column":6},"action":"remove","lines":["s"]}]}],[{"group":"doc","deltas":[{"start":{"row":49,"column":4},"end":{"row":49,"column":6},"action":"insert","lines":["se"]}]}],[{"group":"doc","deltas":[{"start":{"row":49,"column":7},"end":{"row":50,"column":3},"action":"insert","lines":["","\t\t\t"]}]}],[{"group":"doc","deltas":[{"start":{"row":50,"column":3},"end":{"row":50,"column":7},"action":"insert","lines":["temp"]}]}],[{"group":"doc","deltas":[{"start":{"row":50,"column":7},"end":{"row":50,"column":8},"action":"insert","lines":["N"]},{"start":{"row":50,"column":8},"end":{"row":50,"column":11},"action":"insert","lines":["ame"]}]}],[{"group":"doc","deltas":[{"start":{"row":50,"column":11},"end":{"row":50,"column":12},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":50,"column":12},"end":{"row":50,"column":15},"action":"insert","lines":["= f"]}]}],[{"group":"doc","deltas":[{"start":{"row":50,"column":15},"end":{"row":50,"column":20},"action":"insert","lines":["inder"]}]}],[{"group":"doc","deltas":[{"start":{"row":50,"column":20},"end":{"row":50,"column":23},"action":"insert","lines":["Alg"]}]}],[{"group":"doc","deltas":[{"start":{"row":50,"column":23},"end":{"row":50,"column":24},"action":"insert","lines":["o"]}]}],[{"group":"doc","deltas":[{"start":{"row":50,"column":24},"end":{"row":50,"column":25},"action":"insert","lines":["("]}]}],[{"group":"doc","deltas":[{"start":{"row":50,"column":25},"end":{"row":50,"column":27},"action":"insert","lines":["ru"]},{"start":{"row":50,"column":27},"end":{"row":50,"column":31},"action":"insert","lines":["le, "]}]}],[{"group":"doc","deltas":[{"start":{"row":50,"column":29},"end":{"row":50,"column":31},"action":"remove","lines":[", "]}]}],[{"group":"doc","deltas":[{"start":{"row":50,"column":29},"end":{"row":50,"column":32},"action":"insert","lines":["[1]"]}]}],[{"group":"doc","deltas":[{"start":{"row":50,"column":32},"end":{"row":50,"column":33},"action":"insert","lines":[","]}]}],[{"group":"doc","deltas":[{"start":{"row":50,"column":33},"end":{"row":50,"column":39},"action":"insert","lines":[" tweet"]}]}],[{"group":"doc","deltas":[{"start":{"row":50,"column":39},"end":{"row":50,"column":41},"action":"insert","lines":["[2"]},{"start":{"row":50,"column":41},"end":{"row":50,"column":42},"action":"insert","lines":["]"]}]}],[{"group":"doc","deltas":[{"start":{"row":50,"column":42},"end":{"row":51,"column":3},"action":"insert","lines":[")","\t\t\t"]}]}],[{"group":"doc","deltas":[{"start":{"row":51,"column":3},"end":{"row":51,"column":5},"action":"insert","lines":["if"]}]}],[{"group":"doc","deltas":[{"start":{"row":51,"column":5},"end":{"row":51,"column":6},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":51,"column":5},"end":{"row":51,"column":6},"action":"remove","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":47,"column":5},"end":{"row":47,"column":6},"action":"remove","lines":["("]}]}],[{"group":"doc","deltas":[{"start":{"row":47,"column":19},"end":{"row":47,"column":20},"action":"remove","lines":[")"]}]}],[{"group":"doc","deltas":[{"start":{"row":51,"column":5},"end":{"row":51,"column":6},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":51,"column":6},"end":{"row":51,"column":9},"action":"insert","lines":["tem"]}]}],[{"group":"doc","deltas":[{"start":{"row":51,"column":9},"end":{"row":51,"column":12},"action":"insert","lines":["pNa"]}]}],[{"group":"doc","deltas":[{"start":{"row":51,"column":6},"end":{"row":51,"column":12},"action":"remove","lines":["tempNa"]},{"start":{"row":51,"column":6},"end":{"row":51,"column":15},"action":"insert","lines":["tempName "]}]}],[{"group":"doc","deltas":[{"start":{"row":51,"column":15},"end":{"row":51,"column":17},"action":"insert","lines":["!="]}]}],[{"group":"doc","deltas":[{"start":{"row":51,"column":17},"end":{"row":51,"column":18},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":51,"column":18},"end":{"row":51,"column":19},"action":"insert","lines":["\""]},{"start":{"row":51,"column":19},"end":{"row":51,"column":20},"action":"insert","lines":["\""]}]}],[{"group":"doc","deltas":[{"start":{"row":51,"column":20},"end":{"row":52,"column":4},"action":"insert","lines":[":","\t\t\t\t"]}]}],[{"group":"doc","deltas":[{"start":{"row":52,"column":4},"end":{"row":52,"column":7},"action":"insert","lines":["nae"]}]}],[{"group":"doc","deltas":[{"start":{"row":52,"column":6},"end":{"row":52,"column":7},"action":"remove","lines":["e"]},{"start":{"row":52,"column":6},"end":{"row":52,"column":16},"action":"insert","lines":["mes.append"]}]}],[{"group":"doc","deltas":[{"start":{"row":52,"column":16},"end":{"row":52,"column":22},"action":"insert","lines":["(tempN"]}]}],[{"group":"doc","deltas":[{"start":{"row":52,"column":17},"end":{"row":52,"column":22},"action":"remove","lines":["tempN"]},{"start":{"row":52,"column":17},"end":{"row":52,"column":26},"action":"insert","lines":["tempName)"]}]}],[{"group":"doc","deltas":[{"start":{"row":40,"column":0},"end":{"row":103,"column":0},"action":"remove","lines":["#returns the initial names of the people","def getInitialNames(dataList):","\tnames = []","\trule = ['vote', 'iboto']","\ttempName = \"\"","\tfor tweet in dataList:\t#iterates through all tweets","\t\ttempName = finderAlgo(rule[0], tweet[2])","\t\tif tempName != \"\":","\t\t\tnames.append(tempName)","\t\telse:","\t\t\ttempName = finderAlgo(rule[1], tweet[2])","\t\t\tif tempName != \"\":","\t\t\t\tnames.append(tempName)","\treturn names","","#algorithm for finding the names","def finderAlgo(toFind, message):","\tname= \"\"","\tif message.find(toFind) != -1:  #looks ","\t\ttokenized = message.split(' ')","\t\tfor token in tokenized:","\t\t\tif token.find(toFind) != -1 and tokenized.index(token) < len(tokenized):","\t\t\t\tindex = tokenized.index(token)","\t\t\t\tname = searchNearProper(index, tokenized, 4, 'r')","\t\t\t\tif name == \"\":","\t\t\t\t\tname = searchNearProper(index, tokenized, 4, 'l')","\treturn name","","# index refers to index in list of tokens","# tokenList referst to the tweet split by spaces","# movement refers to the range in which the definition will check the tokenList","#direction determines where the index would iterate to","def searchNearProper(index, tokenList, movement, direction):  #adds gets words that starts in capital letter from the number of moves and direction from the index","\tname = \"\"","\tmover = index","\tmoves = movement","\tnumNames = 2","\tfound = 0 #used to count how many words are found with proper noun","\tif direction == 'r':","\t\tmover += 1","\t\twhile mover < len(tokenList) and found < numNames and moves > 0:","\t\t\tif len(tokenList[mover]) > 0: #gets first letter and checks if it is capital","\t\t\t\tfirstLetter = \"\" + tokenList[mover][0] ","\t\t\t\tif firstLetter.isupper() == True:","\t\t\t\t\tif found > 0:","\t\t\t\t\t\tname += \" \"","\t\t\t\t\tname += tokenList[mover] ","\t\t\t\t\tfound += 1","\t\t\tmoves -= 1","\t\t\tmover += 1","\telif direction == 'l':","\t\tindex -= 1","\t\twhile mover >= 0 and found > numNames and moves > 0:","\t\t\tif len(tokenList[mover]) > 0: #gets first letter and checks if it is capital","\t\t\t\tfirstLetter = \"\" + tokenList[mover][0]","\t\t\t\tif firstLetter.isupper() == True:","\t\t\t\t\tif found > 0:","\t\t\t\t\t\tname = \" \" + name","\t\t\t\t\tname = tokenList[mover] + name","\t\t\t\t\tfound += 1","\t\t\tmoves -= 1","\t\t\tmover -= 1","\treturn name",""]}]}],[{"group":"doc","deltas":[{"start":{"row":7,"column":0},"end":{"row":8,"column":0},"action":"remove","lines":["filename = 'C:\\\\Users\\\\Kiel\\\\Dropbox\\\\3RD YEAR\\\\2ND TERM\\\\ADVANDB\\\\filtered-may1-onwards.csv'",""]}]}],[{"group":"doc","deltas":[{"start":{"row":5,"column":44},"end":{"row":7,"column":0},"action":"remove","lines":["","",""]}]}],[{"group":"doc","deltas":[{"start":{"row":5,"column":44},"end":{"row":6,"column":3},"action":"insert","lines":["","\t\t\t"]}]}],[{"group":"doc","deltas":[{"start":{"row":2,"column":0},"end":{"row":5,"column":44},"action":"remove","lines":["","keyWords = [\"Vote\", \"VOTE\", \"vote\", \"boto\", \"iboto\", \"bumoto\", ","\t\t\t\"Halalan\", \"halalan\", \"senator\", \"Senator\", \"elect\", ","\t\t\t\"Mayor\", \"mayor\", \"Eleksyon\", \"eleksyon\"]"]}]}],[{"group":"doc","deltas":[{"start":{"row":1,"column":0},"end":{"row":2,"column":0},"action":"remove","lines":["",""]}]}],[{"group":"doc","deltas":[{"start":{"row":1,"column":0},"end":{"row":2,"column":3},"action":"remove","lines":["","\t\t\t"]},{"start":{"row":1,"column":0},"end":{"row":2,"column":0},"action":"insert","lines":["",""]}]}],[{"group":"doc","deltas":[{"start":{"row":1,"column":0},"end":{"row":2,"column":0},"action":"remove","lines":["",""]}]}],[{"group":"doc","deltas":[{"start":{"row":37,"column":16},"end":{"row":39,"column":41},"action":"remove","lines":["","for chunk in tweetData:","\tinitialList = getInitialNames(tweetData)"]}]}],[{"group":"doc","deltas":[{"start":{"row":1,"column":0},"end":{"row":3,"column":0},"action":"insert","lines":["","",""]}]}],[{"group":"doc","deltas":[{"start":{"row":2,"column":0},"end":{"row":4,"column":44},"action":"insert","lines":["keyWords = [\"Vote\", \"VOTE\", \"vote\", \"boto\", \"iboto\", \"bumoto\", ","\t\t\t\"Halalan\", \"halalan\", \"senator\", \"Senator\", \"elect\", ","\t\t\t\"Mayor\", \"mayor\", \"Eleksyon\", \"eleksyon\"]"]}]}]]},"ace":{"folds":[],"scrolltop":0,"scrollleft":0,"selection":{"start":{"row":37,"column":0},"end":{"row":37,"column":0},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":0},"timestamp":1417948590454,"hash":"c6dec278640fd30d1b41df2ee3a5a28a227d39b5"}